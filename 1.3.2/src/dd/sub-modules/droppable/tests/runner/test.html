<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>DD Test Runner</title>

    <link rel="stylesheet" href="/kissy/tools/jasmine/jasmine.css">
    <script src="/kissy/tools/jasmine/jasmine.js"></script>
    <script src="/kissy/tools/jasmine/jasmine-html.js"></script>
    <script src="/kissy/tools/jasmine/jasmine.console_reporter.js"></script>
    <script src="/kissy/tools/jasmine/event-simulate.js"></script>

    <script src="/kissy/build/seed.js"></script>
    <script src="../../src/delegate.js"></script>
    <script src="../../src/droppable.js"></script>
    <script src="../../src/base.js"></script>
    <style>
        html, body {
            margin: 0;
            padding: 0;
            border: 0;
        }

        .dh {
            border-bottom: 1px solid red;
        }

        .container {
            border: 1px solid red;
            height: 200px;
            padding: 10px;
            position: relative;
            overflow: auto;
        }

        .component {
            margin: 50px 10px;
            width: 100px;
            height: 100px;
            line-height: 100px;
            border: 1px solid black;
            display: inline-block;
            *display: inline;
            *zoom: 1;
            overflow: hidden;
        }

        .cheader {
            cursor: move;
            border: 1px solid black;
            height: 20px;
            line-height: 20px;
        }

        .component .cheader {
            cursor: move;
        }

        .ks-dd-dragging * {
            visibility: hidden;
        }

        .ks-dd-dragging {
            border: 2px blue dashed;
        }
    </style>
</head>
<body>

<div id="wrap">
    <!--

for droppable-spec.js

-->

    <div id="drag_mode" style="position:absolute;
left:400px;top:400px;
overflow: hidden;
width:100px;height:100px;
border:1px solid red;">
        drag
    </div>

    <div id="drop_mode" style="position:absolute;left:600px;top:600px;width:110px;height:110px;
border:1px solid green;">
        drop
    </div>


    <!--
for delegate-spec.js
-->
    <div id="container2" class="container">

        <div class="component" id='c1'>
            <div class="cheader">
                拖动头
            </div>
        <span>
        drag proxy1
            </span>
        </div>

        <div class="component" id='c2'>
            <div class="cheader">
                拖动头
            </div>
         <span>
        drag proxy2
        </span>
        </div>

        <div class="component" id='c3'>
            <div class="cheader">
                拖动头
            </div>
         <span>
        drag proxy3
        </span>
        </div>
    </div>
</div>

<h1>KISSY dd/droppable Test Cases</h1>

<script src="../specs/droppable-spec.js"></script>
<script src="../specs/delegate-spec.js"></script>

<script>
    KISSY.use('core,dd/droppable,dd/plugin/proxy', function (S) {
        var UA = S.UA;
        if (UA.ie == 9) {
            jasmine.kissyNext(0);

            // ie9 模拟鼠标拖放有问题
            S.all('#wrap').hide();
            return;
        }

        setTimeout(function () {

            jasmine.getEnv().addReporter(new jasmine.TrivialReporter());
            jasmine.getEnv().addReporter(new jasmine.ConsoleReporter());
            jasmine.getEnv().execute(function () {
                jasmine.kissyNext(this.results().failedCount);

                S.all('#wrap').hide();
            });
        }, 200);
    });
</script>

</body>
</html>