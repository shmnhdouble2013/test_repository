<!doctype html>
<html>
<head>
    <meta charset="utf-8"/>
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-touch-fullscreen" content="yes">
    <title>chrome get range bug</title>
</head>
<body>

<p id="t">1<strong id="s"></strong><br/></p>
<script>
    // http://code.google.com/p/chromium/issues/detail?id=149894
    (function () {
        // document.getElementById('s').appendChild(document.createTextNode('\u200b'));
        var selection = window.getSelection();
        var range = document.createRange();
        var p = document.getElementById('t');
        range.setStart(p, 2);
        range.setEnd(p, 2);
        selection.addRange(range);

        range = window.getSelection().getRangeAt(0);
        var start = range.startContainer;
        var startOffset = range.startOffset;
        var end = range.endContainer;
        var endOffset = range.endOffset;

        var S = console;
        S.log(start);
        S.log(startOffset);
        S.log(end);
        S.log(endOffset);
        debugger
        S.log(1234);
    })();
</script>
</body>
</html>