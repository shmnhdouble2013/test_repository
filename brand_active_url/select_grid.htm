<!DOCTYPE html>
<html>
	<head>
		<meta charset="gbk">
		<title>品牌运营后台</title>
		
		<link rel="stylesheet" href="http://g.tbcdn.cn/tm/tbs-ui/1.0.4/css/??mui.css,tbsui.css">

		<script src="http://a.tbcdn.cn/s/kissy/1.3.0/kissy.js"></script>
		<script src="./assets/tbsui.js"></script>
		<script src="./assets/uicommon.js"></script>
	</head>
<body>
      
	<!-- header end -->	
	<script type="text/javascript" src="./assets/selectgrid.js"></script>
	<script type="text/javascript" src="./assets/grid.js"></script>
	<script type="text/javascript" src="./assets/store.js"></script>
	
	<link rel="stylesheet" type="text/css" href="./assets/selectgrid.css">
	
<div style="padding:20px;">

	<!-- 步骤条 -->   
	<div class="tbsui-step-3 els-height">
	    <ol class="tbsui-step-bar">
	        <li class="tbsui-step-cur">选择投放媒体</li>
	        <li class="tbsui-step-done"><i></i>描述投放</li>
	        <li class="tbsui-step-end"><i></i>保存投放链接</li>
	    </ol>
	</div>
 
	<div class="select-data-container">	

		<!-- 主操作table容器 -->
		<div class="main-table-container">

			<!--- 查询模板 data-valid="{maxLength:[30, false, ' 最大长度为{0}个字符']}" -->
			<form name="hideform" action="#" method="post" id="J_hideform">
				<input type="hidden" value="sd5fsd5f6afafafa3" name="_csrf_token" id="J_csrf_token"> <!-- _csrf_token -->  
				<input type="hidden" value="0" name="currentPage" id="J_currentPage"> 				 <!-- 当前页分页信息 -->  
				<input type="hidden" value="" name="selectedData" id="J_selectTableData"> 				 <!-- 当前页分页信息 -->  
			
				<div class="j_serch-container">
					<span>媒体一级域名：</span>
					<label>
						<input value="" type="text" class="large-inpt" name="acname" id="J_inptuEle" title="媒体一级域名(如:youku.com)">
						<a href="javascript:void(0)" class="ui-btn-s" id="J_search_btn" data-type="findall">查询</a>
						<span class="ui-form-tip">?</span>   
					</label>      			
				</div>
			</form>	 
			
			<!-- 选择池 表格模板 -->
			<div class="table-container">
				<table class="ui-table" id="J_selectPoolTable">			       
					<thead>			           
						<tr class="capitons grid-row">
							<th style="width:30px;"><input type="checkbox" value="all" name="seletall" class="j_select_all">全选</th>
							<th>id</th>
							<th style="width:50px;">活动类型</th>
							<th>媒体名称</th>
							<th style="width:50px;">操 作</th>
						</tr>
					</thead>
					<tbody></tbody>
				</table>
			</div>	
						
			<!-- 分页 -->	
			<div class="page-container" id="J_Page"></div>
		</div>

		<div class="tr-opraition-btn">
			<a href="javascript:void(0)" class="ui-btn-m-primary add-btn" id="J_addMore">批量添加&gt;&gt;</a><br>
			<a href="javascript:void(0)" class="ui-btn-m" id="J_removeMore">&lt;&lt;批量移除</a> 
		</div>

		<!-- 表格选中模板 -->
		<div class="select-talbe-container">
			<p class="text-agncener">已选中区</p>	
			
			<div class="table-container">
				<table class="ui-table" id="J_selectCandTable">			       
					<thead>			           
						<tr class="capitons grid-row">
							<th style="width:30px;"><input type="checkbox" value="all" name="seletall" class="j_select_all">全选</th>
							<th>id</th>
							<th style="width:50px;">活动类型</th>
							<th>媒体名称</th>
							<th style="width:50px;">操 作</th>
						</tr>
					</thead> 
					<tbody></tbody>
				</table>
			</div>			
			
			<!-- 分页 -->	
			<div class="page-container" id="J_Page-selct"></div>
		</div>    

	</div>
	
	<div class="els-height btn-style">
		<a href="javascript:void(0)" class="ui-btn-m-primary" id="J_resetBack">重新选择活动</a>&nbsp;&nbsp;
		<a href="javascript:void(0)" class="ui-btn-m center-btn" id="J_saveSelectData">保存选择</a> 
	</div>
</div>	

<!-- 数据保存模板
-->


<script type="text/javascript">

	// 选择池 静态数据
	var mainData = [
        {nos:1, id:"fa32f3a2f3", actype:"站外", medianame:"youku.com" },
        {nos:2, id:"2152afaf5525", actype:"站外2", medianame:"youku2.com" },
        {nos:3, id:"fa32faf63a2f3", actype:"站外3", medianame:"youku3.com" },
        {nos:4, id:"fafa6f65", actype:"站外4", medianame:"youku4.com" },
        {nos:5, id:"fa2666666", actype:"站外5", medianame:"youku4.com" },
        {nos:6, id:"faf2a2f6", actype:"站外6", medianame:"youku6.com" },
        {nos:7, id:"faf262f6a66", actype:"站外7", medianame:"youku7.com" },
        {nos:8, id:"afa236f23a62f", actype:"站外8", medianame:"youku8.com" },
        {nos:9, id:"faf23a2fa6", actype:"站外9", medianame:"youku9.com" },
        {nos:10, id:"faf36af6a6", actype:"站外10", medianame:"youku10.com" }
    ];

	/*
	
	,
        {nos:11, id:"afa266969fa", actype:"站外11", medianame:"youku11.com" },
        {nos:12, id:"af23", actype:"站外12", medianame:"youku12.com" },
        {nos:13, id:"fa33", actype:"站外13", medianame:"youku13.com" }
		
		{nos:2, id:"2152afaf5525", actype:"站外2", medianame:"youku2.com" },
	
	*/
	
    // 候选区 选中数据
    var selectData = [
    	{nos:7, id:"faf262f6a66_1", actype:"站外7", medianame:"youku7.com" },
    	{nos:11, id:"afa266969fa_2", actype:"站外11", medianame:"youku11.com" }
    ];

    // 选择池table tr模板 class="selected-tr" '{{#each data}}'+ +'{{/each}}'
    var main_table =  
	    '<tr class="grid-row">'+
	     	'<td class="grid-cell"><input type="checkbox" value="{{id}}" name="box" class="grid-checkbox" /></td>'+
	    	'<td class="grid-cell">{{id}}</td>'+
	        '<td class="grid-cell">{{actype}}</td>'+
	        '<td class="grid-cell">{{medianame}}</td>'+
	        '<td class="grid-cell">'+
				'<a href="javascript:void(0)" class="ui-btn-s-primary j_add_remove" data-no="{{id}}" data-operationState="addtr">添加</a>'+
			'</td>'+
	    '</tr>';    

    // 候选区table tr模板  class="delete-tr"
    var select_table = 
        '<tr class="grid-row">'+
         	'<td class="grid-cell"><input type="checkbox" value="{{id}}" name="removetr" class="grid-checkbox" /></td>'+
        	'<td class="grid-cell">{{id}}</td>'+
            '<td class="grid-cell">{{actype}}</td>'+
            '<td class="grid-cell">{{medianame}}</td>'+
			'<td class="grid-cell">'+
				'<a href="javascript:void(0)" class="ui-btn-s j_add_remove" data-no="{{id}}" data-operationState="removetr">移除</a>'+  
			'</td>'+	
        '</tr>';

	KISSY.Config.debug = true; 

	KISSY.ready(function(S){
	    S.use('mui/selectGrid', function(S, SelectGrid){  
 
	        new SelectGrid({	
			
				poolGridConfig:{
					tableId: '#J_selectPoolTable', 						// 选择池 table id钩子
					staticData: mainData, 								// 选择池 静态数据 
					isPagination:true,									// 是否有分页 默认 为false
					isAjaxData:true,									// 是否是异步数据 默认 为false
					ajaxUrl: 'result.php',     							 // 异步查询url  
					trTpl: main_table									// 选择池 table tbody tr 模板												
				},
				
				candGridConfig:{
					tableId: '#J_selectCandTable', 						// 候选 table id钩子
					staticData: selectData, 							// 候选 table 静态数据 
					trTpl: select_table									// 候选 table tbody tr 模板
				},
				
				//isMoveData: false,								// 是否 移动 选择池数据? 默认copy数据 false
				addMoreId: '#J_addMore', 							// 批量添加 id
	        	removeMoreId: '#J_removeMore' 						// 批量移除 id
	        });
	    });
	});
</script>
</body>
</html>