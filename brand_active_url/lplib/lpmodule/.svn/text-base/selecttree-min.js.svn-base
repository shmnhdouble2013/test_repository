KISSY.add(function(c){var d=c.DOM,a=c.Event;var e="<select></select>";function b(g){var f=this;g=c.merge(b.config,g);b.superclass.constructor.call(f,g);f._init()}b.config={selectCls:"form-field-select"};c.extend(b,c.LP.TreeBase);c.augment(b,{_init:function(){var f=this;f._initListTree();f._initEvent()},_initEvent:function(){},_initList:function(l,j){var f=this,k={},i;if(l.length===0){return{}}i=f._initListDom(k,j);f._initListData(k,i,j);var h={id:null,value:"\u8bf7\u9009\u62e9..."},g=f._initListItemsDom(k,h);f._initListItemsData(g,h,j);f._initListItems(k,l,j);f._initListEvent(k);if(!k.selectedItem){f._getItems(k)[0].selected=true}return k},_initListDom:function(j,i){var g=this,f=d.create(e),h=g.get("container");h.append(f);d.addClass(f,g.get("selectCls"));return c.one(f)},_initListEvent:function(g){var f=this;g.dom.on("change",function(){var h=this.options[this.selectedIndex];f._itemChangeSelect(c.one(h))})},_initListItemsDom:function(i,g){var h,f;h=['<option value="',g.id,'">',g.value,"</option>"].join("");f=d.create(h);i.dom.append(f);f=c.one(f);return f},_getItems:function(f){return c.all("option",f.dom)},_isItemSelect:function(f){return f[0].selected},_addItemSelect:function(f){f[0].selected=true},_removeItemSelect:function(f){f[0].selected=false},_removeAllSelectByItem:function(f){c.each(f.siblings(),function(g){f[0].selected=false})}});c.namespace("LP");c.LP.SelectTree=b},{requires:["lpmodule/treebase","lpmodule/css/module.css"]});
