KISSY.add("message/base",function(a,c,e){var g=a.Node,f=a.UA;function d(l){var k=this;d.superclass.constructor.call(k,l)}var b="message-",i="x-icon",j="x-icon-hover",h={info:{css:"x-icon-info",inner:"i"},error:{css:"x-icon-error",inner:"!"},success:{css:"x-icon-success",inner:'<i class="icon-ok icon-white"></i>'},question:{css:"x-icon-info",inner:"?"},warning:{css:"x-icon-warning",inner:"!"},right:{css:"x-icon-success",inner:'<i class="icon-ok icon-white"></i>'}};d.ATTRS={title:{},hasClose:{value:true},icon:{value:"info"},message:{},button:{},width:{value:{min:270,max:440}}};a.extend(d,e.Dialog,{initializer:function(){},renderUI:function(){var k=this.get("prefixCls"),l=this.get("el");a.one(l).replaceClass(k+"dialog",k+"message");this.get("body").addClass("ks-clear").append('<div class="'+i+'"></div><div class="'+k+b+'content"></div>')},bindUI:function(){var k=this,m=k.get("header"),l=m.one("."+i);l.on("click",function(){k.hide()}).on("mouseenter",function(){l.addClass(j)}).on("mouseleave",function(){l.removeClass(j)})},_uiSetHasClose:function(l){var k=this,n=k.get("header"),l=k.get("hasClose"),m=n.one("."+i);if(l){m.show()}else{m.hide()}},_uiSetTitle:function(k){if(k){this.get("header").one(".lp-message-title").html(k)}},_uiSetIcon:function(n){var k=this.get("prefixCls"),m=this.get("body").one("."+i),l=h[n]||h.info;m[0].className=i;m.addClass(l.css);m.html(l.inner)},_uiSetMessage:function(n){var k="data-type",l=this.get("prefixCls"),m=this.get("body").one("."+l+b+"content");if(m.attr(k)){g.one("body").append(m.children())}if(a.isString(n)){m.removeAttr(k);m.html(n)}else{m.html("").append(n);m.attr(k,"node")}if(f.ie<7){this._setWidth(this.get("width"))}},_uiSetButton:function(n){var k=this,m=null,l=this.get("prefixCls"),o=this.get("footer");if(n&&n.length>0){o.html("");a.each(n,function(q,p){m=new g('<button class="button button-primary">'+q.text+"</button>").appendTo(o);if(p===0){m.addClass("mb-first")}m.on("click",function(r){k.hide();if(q.fn){q.fn(r)}})})}},_setWidth:function(n){var m=this.get("el"),l=this.get("prefixCls"),k=-131,o=m.one("."+l+b+"content");if("number"===typeof n){n+=k}else{n=this._getAutoWidth(n,k)}o.width(n);m.width(n-k)},_getAutoWidth:function(q,n){var p=this.get("el"),m=this.get("prefixCls"),r=p.one("."+m+b+"content"),l,o=q.min+n,k=q.max+n;r.width("auto");p.width("auto");l=r.width();l=l<o?o:(l>k?k:l);return l},_reset:function(k){if(!k.icon&&k.icons){k.icon=k.icons}for(var l in k){this.set(l,k[l])}}});return d},{requires:["dd","overlay"]});KISSY.add(function(e,d){var a={prefixCls:"lp-",mask:true,headerContent:'<h2 class="lp-message-title"></h2><span class="x-icon  x-icon-small x-icon-normal">\u00d7</span>',draggable:true,align:{points:["cc","cc"]},elStyle:{position:"absolute"},hasClose:true,title:"",button:[{text:"\u786e\u5b9a"}],closable:false},f=new d(a);function b(g){var h=e.merge(a,g);f.hide();f._reset(h);f.center();f.show();return f}var c={Base:b,create:function(g){var h=e.merge(a,g);f._reset(h);return f},show:b,Alert:function(){var g=this._buildParam(arguments);return this.show(g)},Confirm:function(){var h=this._buildParam(arguments);var g=h.button;g.push({text:"\u53d6\u6d88"});return this.show(h)},_buildParam:function(h){var g=h.length,i={};switch(g){case 1:i.message=h[0];break;case 2:if(e.isFunction(h[1])){i.message=h[0];i.button=[{text:"\u786e\u5b9a",fn:h[1]}]}else{if("info,error,success,right,question,warning".indexOf(h[0])!==-1){i.icon=h[0];i.message=h[1]}else{i.message=h[0];i.title=h[1]}}break;case 3:if("info,error,right,question,warning".indexOf(h[0])!==-1){i.icon=h[0];i.message=h[1]}else{i.message=h[0];i.title=h[1]}i.button=[{text:"\u786e\u5b9a",fn:h[2]}];break;default:i.icon=h[0];i.message=h[1];i.title=h[2];i.button=[{text:"\u786e\u5b9a",fn:h[3]}];break}return e.merge(a,i)}};e.namespace("LP.Message");e.LP.Message=c;return c},{requires:["message/base","./uicommon"]});
