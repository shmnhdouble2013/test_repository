KISSY.add(function(c,b){var a="ks-form-tip",d="data-tip",g="ks-form-tip-container";var f=function(h){f.superclass.constructor.call(this,h)};f.ATTRS={trigger:{},text:{},iconCls:{},elCls:{},tpl:{view:true,value:'<span class="{iconCls}"></span><span class="tip-text">{text}</span>'},visibleMode:{view:true,value:"display"},zIndex:{value:10}};c.extend(f,b,{initializer:function(){var h=this,j=h.get("render");if(!j){var i=c.one(h.get("trigger")).parent();h.set("render",i);if(i){i.addClass(g)}}},createDom:function(){var h=this,k=h.get("tpl"),l=h.get("el"),j=h.getAttrVals(),i=c.substitute(k,j);l.addClass("ks-form-tip");new c.Node(i).appendTo(h.get("el"))},renderUI:function(){var h=this;h.resetVisible()},resetVisible:function(){var h=this,i=c.one(h.get("trigger"));if(i.val()){h.set("visible",false)}else{h.set("align",{node:i,points:["tl","tl"],offset:[0,3]});h.set("visible",true)}},bindUI:function(){var h=this,i=c.one(h.get("trigger"));h.get("el").on("click",function(){h.hide();i[0].focus()});i.on("click focus",function(){h.hide()});i.on("blur",function(){h.resetVisible()})}});var e=function(h){if(this.constructor!==e){return new e(h)}e.superclass.constructor.call(this,h);this._init()};e.ATTRS={form:{},items:{value:[]}};c.extend(e,c.Base);c.augment(e,{_init:function(){var h=this,i=c.one(h.get("form"));if(i){c.each(c.makeArray(i[0].elements),function(k){var j=c.one(k).attr(d);if(j){h._initFormElement(k,c.JSON.parse(j))}})}},_initFormElement:function(k,j){if(j){j.trigger=k}var h=this,i=h.get("items"),l=new f(j);i.push(l)},resetVisible:function(){var h=this,i=h.get("items");c.each(i,function(j){j.resetVisible()})},render:function(){var h=this,i=h.get("items");c.each(i,function(j){j.render()})},destroy:function(){var h=this,i=h.get(i);$.each(i,function(j,k){k.destroy()})}});if(c.LP){c.LP.Tips=e}e.Item=f;return e},{requires:["overlay","2.0/css/formtips.css"]});
