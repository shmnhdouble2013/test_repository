KISSY.add("message/base",function(e,a,f){var c=e.Node;function d(h){var g=this;d.superclass.constructor.call(g,h)}var b="message-";d.ATTRS={title:{},icon:{value:"info"},message:{},button:{},width:{value:{min:270,max:440}}};e.extend(d,f.Dialog,{initializer:function(){},renderUI:function(){var g=this.get("prefixCls"),h=this.get("el");e.one(h).replaceClass(g+"dialog",g+"message");this.get("body").addClass("ks-clear").append('<div class="'+g+b+'icon"><i></i></div><div class="'+g+b+'content"></div>')},_uiSetTitle:function(g){if(g){this.get("header").html(g)}},_uiSetIcon:function(i){var g=this.get("prefixCls"),h=this.get("body").one("."+g+b+"icon");h[0].className=g+b+"icon";h.addClass(g+b+i)},_uiSetMessage:function(j){var g="data-type",h=this.get("prefixCls"),i=this.get("body").one("."+h+b+"content");if(i.attr(g)){c.one("body").append(i.children())}if(e.isString(j)){i.removeAttr(g);i.html(j)}else{i.html("").append(j);i.attr(g,"node")}this._setWidth(this.get("width"))},_uiSetButton:function(j){var g=this,i=null,h=this.get("prefixCls"),k=this.get("footer");if(j&&j.length>0){k.html("");e.each(j,function(m,l){i=new c('<button class="'+h+b+'btn">'+m.text+"</button>").appendTo(k);if(l===0){i.addClass("mb-first")}i.on("click",function(n){g.hide();if(m.fn){m.fn(n)}})})}},_setWidth:function(j){var i=this.get("el"),h=this.get("prefixCls"),g=-131,k=i.one("."+h+b+"content");if("number"===typeof j){j+=g}else{j=this._getAutoWidth(j,g)}k.width(j);i.width(j-g)},_getAutoWidth:function(m,j){var l=this.get("el"),i=this.get("prefixCls"),n=l.one("."+i+b+"content"),h,k=m.min+j,g=m.max+j;n.width("auto");l.width("auto");h=n.width();h=h<k?k:(h>g?g:h);return h},_reset:function(g){if(!g.icon&&g.icons){g.icon=g.icons}for(var h in g){this.set(h,g[h])}}});return d},{requires:["dd","overlay"]});KISSY.add(function(e,d){var a={prefixCls:"lp-",mask:true,draggable:true,align:{points:["cc","cc"]},elStyle:{position:"absolute"},title:"",button:[{text:"\u786e\u5b9a"}],width:{min:270,max:600}},f=new d(a);function b(g){var h=e.merge(a,g);f.hide();f._reset(h);f.center();f.show();return f}var c={Base:b,create:function(g){var h=e.merge(a,g);f._reset(h);return f},show:b,Alert:function(){var g=this._buildParam(arguments);return this.show(g)},Confirm:function(){var h=this._buildParam(arguments);var g=h.button;g.push({text:"\u53d6\u6d88"});return this.show(h)},_buildParam:function(h){var g=h.length,i={};switch(g){case 1:i.message=h[0];break;case 2:if(e.isFunction(h[1])){i.message=h[0];i.button=[{text:"\u786e\u5b9a",fn:h[1]}]}else{if("info,error,right,question,warning".indexOf(h[0])!==-1){i.icon=h[0];i.message=h[1]}else{i.message=h[0];i.title=h[1]}}break;case 3:if("info,error,right,question,warning".indexOf(h[0])!==-1){i.icon=h[0];i.message=h[1]}else{i.message=h[0];i.title=h[1]}i.button=[{text:"\u786e\u5b9a",fn:h[2]}];break;default:i.icon=h[0];i.message=h[1];i.title=h[2];i.button=[{text:"\u786e\u5b9a",fn:h[3]}];break}return i}};e.namespace("LP.Message");e.LP.Message=c;return c},{requires:["message/base","./css/message.css"]});
